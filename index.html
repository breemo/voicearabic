<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ™ï¸ ØªÙˆÙ„ÙŠØ¯ ØµÙˆØª Ø¹Ø±Ø¨ÙŠ</title>
  <style>
    body {
      font-family: "Cairo", sans-serif;
      background: linear-gradient(135deg, #3a1c71, #d76d77, #ffaf7b);
      color: #fff;
      text-align: center;
      min-height: 100vh;
      margin: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 20px;
      color: #fff;
    }
    .container {
      background-color: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 30px;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }
    select, textarea, button {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
    }
    select, textarea {
      background-color: rgba(255, 255, 255, 0.85);
      color: #222;
    }
    button {
      background-color: #ffaf7b;
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover {
      background-color: #d76d77;
    }
    audio {
      width: 100%;
      margin-top: 15px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ™ï¸ Ù…ÙˆÙ„Ø¯ Ø§Ù„ØµÙˆØª Ø§Ù„Ø¹Ø±Ø¨ÙŠ - ØµÙˆØª Ø¹Ù„ÙŠ</h1>

    <label for="voice">Ø§Ø®ØªØ± Ø§Ù„ØµÙˆØª:</label>
    <select id="voice">
      <option value="EXAVITQu4vr4xnSDxMaL">Bella (Ø£Ù†Ø«ÙˆÙŠ)</option>
      <option value="pNInz6obpgDQGcFmaJgB">Adam (Ø°ÙƒØ±ÙŠ)</option>
      <option value="ErXwobaYiN019PkySvjV">Rachel (Ù…ØªÙˆØ³Ø·)</option>
      <option value="V2QzdR5W8yYxXnEoQd6h">Antoni (Ø¹Ù…ÙŠÙ‚)</option>
    </select>

    <label for="model">Ø§Ø®ØªØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬:</label>
    <select id="model">
      <option value="eleven_multilingual_v2">Multilingual v2 (ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© âœ…)</option>
      <option value="eleven_turbo_v2">Turbo v2 (Ø£Ø³Ø±Ø¹ âš¡)</option>
    </select>

    <label for="text">Ø§ÙƒØªØ¨ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§:</label>
    <textarea id="text" rows="5">Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙŠØ§ Ø£ØµØ¯Ù‚Ø§Ø¦ÙŠ! Ø£Ù†Ø§ Ø¹Ù„ÙŠ ÙˆØ³Ø£Ù‚Ø±Ø£ Ù„ÙƒÙ… Ù‚ØµØ© Ø§Ù„ÙŠÙˆÙ… Ø¹Ù† Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„Ù…Ø­Ø¨Ø©.</textarea>

    <button id="generate">ğŸ§ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØµÙˆØª</button>

    <audio id="player" controls></audio>
    <a id="downloadLink" style="display:none; color:#fff; text-decoration:none;">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù</a>
  </div>

  <script>
    const API_KEY = "sk_XXXXXXXXXXXX"; // ğŸ”‘ Ø§Ø³ØªØ¨Ø¯Ù„Ù‡Ø§ Ø¨Ù…ÙØªØ§Ø­Ùƒ Ù…Ù† ElevenLabs
    const button = document.getElementById("generate");
    const audioPlayer = document.getElementById("player");
    const downloadLink = document.getElementById("downloadLink");

    button.addEventListener("click", async () => {
      const text = document.getElementById("text").value.trim();
      const voice = document.getElementById("voice").value;
      const model = document.getElementById("model").value;

      if (!text) {
        alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ!");
        return;
      }

      button.disabled = true;
      button.textContent = "â³ Ø¬Ø§Ø±ÙŠ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØµÙˆØª...";

      try {
        const response = await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${voice}`, {
          method: "POST",
          headers: {
            "xi-api-key": API_KEY,
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            text: text,
            model_id: model,
            voice_settings: { stability: 0.4, similarity_boost: 0.7 }
          })
        });

        if (!response.ok) {
          throw new Error("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ ElevenLabs");
        }

        const blob = await response.blob();
        const url = URL.createObjectURL(blob);
        audioPlayer.src = url;
        downloadLink.href = url;
        downloadLink.download = "arabic_voice.wav";
        downloadLink.style.display = "block";
        downloadLink.textContent = "â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØª Ø§Ù„Ù†Ø§ØªØ¬";

      } catch (err) {
        alert("âš ï¸ ÙØ´Ù„ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØµÙˆØª: " + err.message);
      } finally {
        button.disabled = false;
        button.textContent = "ğŸ§ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØµÙˆØª";
      }
    });
  </script>
</body>
</html>
